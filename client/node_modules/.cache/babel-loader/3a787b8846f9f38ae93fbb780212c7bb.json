{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Alejandro\\\\Git\\\\turismo-umss\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"C:\\\\Users\\\\Alejandro\\\\Git\\\\turismo-umss\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import _slicedToArray from\"C:\\\\Users\\\\Alejandro\\\\Git\\\\turismo-umss\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"C:\\\\Users\\\\Alejandro\\\\Git\\\\turismo-umss\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Alejandro\\\\Git\\\\turismo-umss\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Alejandro\\\\Git\\\\turismo-umss\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Alejandro\\\\Git\\\\turismo-umss\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import lodash from\"lodash\";import{Segment,Item,Container}from\"semantic-ui-react\";import{http}from\"../../services\";var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);var _super=_createSuper(Home);function Home(){var _this;_classCallCheck(this,Home);_this=_super.call(this);_this.state={posts:[],loading:true};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Promise.all([http.request({url:\"/users/posts\"}),http.request({url:\"/users/users\"})]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),posts=_ref2[0],users=_ref2[1];var usersById=lodash.keyBy(users,\"id\");var postsWithUsers=posts.map(function(_ref3){var userId=_ref3.userId,post=_objectWithoutProperties(_ref3,[\"userId\"]);return _objectSpread({user:usersById[userId]},post);});_this2.setState({posts:postsWithUsers});}).catch(function(error){//should show error, for now just alerting in console\nconsole.error(error);}).finally(this.setState({loading:false}));}},{key:\"render\",value:function render(){var _this$state=this.state,posts=_this$state.posts,loading=_this$state.loading;return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Segment,{loading:loading},/*#__PURE__*/React.createElement(Item.Group,null,posts.map(function(_ref4){var id=_ref4.id,title=_ref4.title,body=_ref4.body,_ref4$user=_ref4.user,name=_ref4$user.name,email=_ref4$user.email,company=_ref4$user.company.name;return/*#__PURE__*/React.createElement(Item,{key:id},/*#__PURE__*/React.createElement(Item.Image,{size:\"tiny\",src:\"https://react.semantic-ui.com/images/wireframe/image.png\"}),/*#__PURE__*/React.createElement(Item.Content,null,/*#__PURE__*/React.createElement(Item.Header,{as:\"a\"},title),/*#__PURE__*/React.createElement(Item.Meta,null,name,\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"a\",{href:\"mailto:\".concat(email)},email)),/*#__PURE__*/React.createElement(Item.Description,null,body),/*#__PURE__*/React.createElement(Item.Extra,null,\"Company: \",company)));}))));}}]);return Home;}(Component);export default Home;","map":{"version":3,"sources":["C:/Users/Alejandro/Git/turismo-umss/client/src/Admin/Home/Home.js"],"names":["React","Component","lodash","Segment","Item","Container","http","Home","state","posts","loading","Promise","all","request","url","then","users","usersById","keyBy","postsWithUsers","map","userId","post","user","setState","catch","error","console","finally","id","title","body","name","email","company"],"mappings":"grCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAASC,OAAT,CAAkBC,IAAlB,CAAwBC,SAAxB,KAAyC,mBAAzC,CACA,OAASC,IAAT,KAAqB,gBAArB,C,GAEMC,CAAAA,I,4FACJ,eAAc,sCACZ,wBACA,MAAKC,KAAL,CAAa,CAAEC,KAAK,CAAE,EAAT,CAAaC,OAAO,CAAE,IAAtB,CAAb,CAFY,aAGb,C,8EAEmB,iBAClBC,OAAO,CAACC,GAAR,CAAY,CACVN,IAAI,CAACO,OAAL,CAAa,CAAEC,GAAG,CAAE,cAAP,CAAb,CADU,CAEVR,IAAI,CAACO,OAAL,CAAa,CAAEC,GAAG,CAAE,cAAP,CAAb,CAFU,CAAZ,EAIGC,IAJH,CAIQ,cAAoB,kCAAlBN,KAAkB,UAAXO,KAAW,UACxB,GAAMC,CAAAA,SAAS,CAAGf,MAAM,CAACgB,KAAP,CAAaF,KAAb,CAAoB,IAApB,CAAlB,CACA,GAAMG,CAAAA,cAAc,CAAGV,KAAK,CAACW,GAAN,CAAU,mBAAGC,CAAAA,MAAH,OAAGA,MAAH,CAAcC,IAAd,kEAC/BC,IAAI,CAAEN,SAAS,CAACI,MAAD,CADgB,EAE5BC,IAF4B,GAAV,CAAvB,CAIA,MAAI,CAACE,QAAL,CAAc,CAAEf,KAAK,CAAEU,cAAT,CAAd,EACD,CAXH,EAYGM,KAZH,CAYS,SAACC,KAAD,CAAW,CAChB;AACAC,OAAO,CAACD,KAAR,CAAcA,KAAd,EACD,CAfH,EAgBGE,OAhBH,CAgBW,KAAKJ,QAAL,CAAc,CAAEd,OAAO,CAAE,KAAX,CAAd,CAhBX,EAiBD,C,uCAEQ,iBACoB,KAAKF,KADzB,CACCC,KADD,aACCA,KADD,CACQC,OADR,aACQA,OADR,CAEP,mBACE,oBAAC,SAAD,mBACE,oBAAC,OAAD,EAAS,OAAO,CAAEA,OAAlB,eACE,oBAAC,IAAD,CAAM,KAAN,MACGD,KAAK,CAACW,GAAN,CACC,mBACES,CAAAA,EADF,OACEA,EADF,CAEEC,KAFF,OAEEA,KAFF,CAGEC,IAHF,OAGEA,IAHF,kBAIER,IAJF,CAKIS,IALJ,YAKIA,IALJ,CAMIC,KANJ,YAMIA,KANJ,CAOqBC,OAPrB,YAOIA,OAPJ,CAOeF,IAPf,oBAUE,oBAAC,IAAD,EAAM,GAAG,CAAEH,EAAX,eACE,oBAAC,IAAD,CAAM,KAAN,EACE,IAAI,CAAC,MADP,CAEE,GAAG,CAAC,0DAFN,EADF,cAME,oBAAC,IAAD,CAAM,OAAN,mBACE,oBAAC,IAAD,CAAM,MAAN,EAAa,EAAE,CAAC,GAAhB,EAAqBC,KAArB,CADF,cAEE,oBAAC,IAAD,CAAM,IAAN,MACGE,IADH,kBACS,8BADT,cAEE,yBAAG,IAAI,kBAAYC,KAAZ,CAAP,EAA6BA,KAA7B,CAFF,CAFF,cAME,oBAAC,IAAD,CAAM,WAAN,MAAmBF,IAAnB,CANF,cAOE,oBAAC,IAAD,CAAM,KAAN,kBAAsBG,OAAtB,CAPF,CANF,CAVF,EADD,CADH,CADF,CADF,CADF,CAqCD,C,kBAjEgBjC,S,EAoEnB,cAAeM,CAAAA,IAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport lodash from \"lodash\";\r\nimport { Segment, Item, Container } from \"semantic-ui-react\";\r\nimport { http } from \"../../services\";\r\n\r\nclass Home extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { posts: [], loading: true };\r\n  }\r\n\r\n  componentDidMount() {\r\n    Promise.all([\r\n      http.request({ url: \"/users/posts\" }),\r\n      http.request({ url: \"/users/users\" }),\r\n    ])\r\n      .then(([posts, users]) => {\r\n        const usersById = lodash.keyBy(users, \"id\");\r\n        const postsWithUsers = posts.map(({ userId, ...post }) => ({\r\n          user: usersById[userId],\r\n          ...post,\r\n        }));\r\n        this.setState({ posts: postsWithUsers });\r\n      })\r\n      .catch((error) => {\r\n        //should show error, for now just alerting in console\r\n        console.error(error);\r\n      })\r\n      .finally(this.setState({ loading: false }));\r\n  }\r\n\r\n  render() {\r\n    const { posts, loading } = this.state;\r\n    return (\r\n      <Container>\r\n        <Segment loading={loading}>\r\n          <Item.Group>\r\n            {posts.map(\r\n              ({\r\n                id,\r\n                title,\r\n                body,\r\n                user: {\r\n                  name,\r\n                  email,\r\n                  company: { name: company },\r\n                },\r\n              }) => (\r\n                <Item key={id}>\r\n                  <Item.Image\r\n                    size=\"tiny\"\r\n                    src=\"https://react.semantic-ui.com/images/wireframe/image.png\"\r\n                  />\r\n\r\n                  <Item.Content>\r\n                    <Item.Header as=\"a\">{title}</Item.Header>\r\n                    <Item.Meta>\r\n                      {name} <br />\r\n                      <a href={`mailto:${email}`}>{email}</a>\r\n                    </Item.Meta>\r\n                    <Item.Description>{body}</Item.Description>\r\n                    <Item.Extra>Company: {company}</Item.Extra>\r\n                  </Item.Content>\r\n                </Item>\r\n              )\r\n            )}\r\n          </Item.Group>\r\n        </Segment>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}