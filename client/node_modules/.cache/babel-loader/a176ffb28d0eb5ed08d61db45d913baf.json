{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Alejandro\\\\Git\\\\turismo-umss\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"C:\\\\Users\\\\Alejandro\\\\Git\\\\turismo-umss\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import axios from\"axios\";import history from\"../history\";var baseURL=\"/api\";var BEConfig={baseURL:baseURL,headers:{}};var handleStatusCodes=function handleStatusCodes(_ref){var data=_ref.data,status=_ref.status,rest=_objectWithoutProperties(_ref,[\"data\",\"status\"]);switch(status){case 400:return data;case 401://logout\nbreak;case 403:return{error:\"forbidden\"};case 404:history.push(\"/404\");return;case 500:console.error(\"status \".concat(status,\": \").concat(JSON.stringify(data)));return data;default:console.error(\"status \".concat(status,\": \").concat(JSON.stringify(data)));return _objectSpread({data:data,status:status},rest);}};var handleError=function handleError(error){if(error.response){throw handleStatusCodes(error.response);}if(error.request){console.error(error.request);throw new Error(\"The request was made but no response was received\");}console.error(\"Error\",error.message);console.error(error.config);throw new Error(\"Something happened in setting up the request that triggered an Error\");};var addConfiguration=function addConfiguration(params){return _objectSpread(_objectSpread({},BEConfig),params);};var processResponse=function processResponse(_ref2){var data=_ref2.data;return data;};var request=function request(config){return axios.request(addConfiguration(config)).then(processResponse).catch(handleError);};export{request};","map":{"version":3,"sources":["C:/Users/Alejandro/Git/turismo-umss/client/src/services/http/http.js"],"names":["axios","history","baseURL","BEConfig","headers","handleStatusCodes","data","status","rest","error","push","console","JSON","stringify","handleError","response","request","Error","message","config","addConfiguration","params","processResponse","then","catch"],"mappings":"yWAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CAEA,GAAMC,CAAAA,OAAO,CAAG,MAAhB,CACA,GAAMC,CAAAA,QAAQ,CAAG,CACfD,OAAO,CAAPA,OADe,CAEfE,OAAO,CAAE,EAFM,CAAjB,CAKA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,MAA+B,IAA5BC,CAAAA,IAA4B,MAA5BA,IAA4B,CAAtBC,MAAsB,MAAtBA,MAAsB,CAAXC,IAAW,kDACvD,OAAQD,MAAR,EACE,IAAK,IAAL,CACE,MAAOD,CAAAA,IAAP,CACF,IAAK,IAAL,CACE;AACA,MACF,IAAK,IAAL,CACE,MAAO,CAAEG,KAAK,CAAE,WAAT,CAAP,CACF,IAAK,IAAL,CACER,OAAO,CAACS,IAAR,CAAa,MAAb,EACA,OACF,IAAK,IAAL,CACEC,OAAO,CAACF,KAAR,kBAAwBF,MAAxB,cAAmCK,IAAI,CAACC,SAAL,CAAeP,IAAf,CAAnC,GACA,MAAOA,CAAAA,IAAP,CACF,QACEK,OAAO,CAACF,KAAR,kBAAwBF,MAAxB,cAAmCK,IAAI,CAACC,SAAL,CAAeP,IAAf,CAAnC,GACA,sBAASA,IAAI,CAAJA,IAAT,CAAeC,MAAM,CAANA,MAAf,EAA0BC,IAA1B,EAhBJ,CAkBD,CAnBD,CAqBA,GAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACL,KAAD,CAAW,CAC7B,GAAIA,KAAK,CAACM,QAAV,CAAoB,CAClB,KAAMV,CAAAA,iBAAiB,CAACI,KAAK,CAACM,QAAP,CAAvB,CACD,CACD,GAAIN,KAAK,CAACO,OAAV,CAAmB,CACjBL,OAAO,CAACF,KAAR,CAAcA,KAAK,CAACO,OAApB,EACA,KAAM,IAAIC,CAAAA,KAAJ,CAAU,mDAAV,CAAN,CACD,CACDN,OAAO,CAACF,KAAR,CAAc,OAAd,CAAuBA,KAAK,CAACS,OAA7B,EACAP,OAAO,CAACF,KAAR,CAAcA,KAAK,CAACU,MAApB,EACA,KAAM,IAAIF,CAAAA,KAAJ,CACJ,sEADI,CAAN,CAGD,CAbD,CAeA,GAAMG,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,MAAD,wCAAkBlB,QAAlB,EAA+BkB,MAA/B,GAAzB,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,WAAGhB,CAAAA,IAAH,OAAGA,IAAH,OAAcA,CAAAA,IAAd,EAAxB,CAEA,GAAMU,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACG,MAAD,QACdnB,CAAAA,KAAK,CACFgB,OADH,CACWI,gBAAgB,CAACD,MAAD,CAD3B,EAEGI,IAFH,CAEQD,eAFR,EAGGE,KAHH,CAGSV,WAHT,CADc,EAAhB,CAMA,OAASE,OAAT","sourcesContent":["import axios from \"axios\";\r\nimport history from \"../history\";\r\n\r\nconst baseURL = \"/api\";\r\nconst BEConfig = {\r\n  baseURL,\r\n  headers: {},\r\n};\r\n\r\nconst handleStatusCodes = ({ data, status, ...rest }) => {\r\n  switch (status) {\r\n    case 400:\r\n      return data;\r\n    case 401:\r\n      //logout\r\n      break;\r\n    case 403:\r\n      return { error: \"forbidden\" };\r\n    case 404:\r\n      history.push(\"/404\");\r\n      return;\r\n    case 500:\r\n      console.error(`status ${status}: ${JSON.stringify(data)}`);\r\n      return data;\r\n    default:\r\n      console.error(`status ${status}: ${JSON.stringify(data)}`);\r\n      return { data, status, ...rest };\r\n  }\r\n};\r\n\r\nconst handleError = (error) => {\r\n  if (error.response) {\r\n    throw handleStatusCodes(error.response);\r\n  }\r\n  if (error.request) {\r\n    console.error(error.request);\r\n    throw new Error(\"The request was made but no response was received\");\r\n  }\r\n  console.error(\"Error\", error.message);\r\n  console.error(error.config);\r\n  throw new Error(\r\n    \"Something happened in setting up the request that triggered an Error\"\r\n  );\r\n};\r\n\r\nconst addConfiguration = (params) => ({ ...BEConfig, ...params });\r\n\r\nconst processResponse = ({ data }) => data;\r\n\r\nconst request = (config) =>\r\n  axios\r\n    .request(addConfiguration(config))\r\n    .then(processResponse)\r\n    .catch(handleError);\r\n\r\nexport { request };\r\n"]},"metadata":{},"sourceType":"module"}